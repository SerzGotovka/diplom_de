# TMS Data Engineering Project - –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π Data Engineering. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ª–æ–∏ (RAW, DDS, Data Marts) –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.


### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Apache Airflow** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è ETL –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **Apache Kafka** - –ø–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **MinIO** - –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è batch –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL** - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (RAW –∏ DDS —Å–ª–æ–∏)
- **Neo4j** - –≥—Ä–∞—Ñ–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π
- **ClickHouse** - –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–∏—Ç—Ä–∏–Ω
- **Metabase** - —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### –°–ª–æ–∏ –¥–∞–Ω–Ω—ã—Ö:

1. **RAW —Å–ª–æ–π** - —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL
2. **DDS —Å–ª–æ–π** - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL –∏ Neo4j
3. **Data Marts** - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ ClickHouse

## üìä –î–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](docs/architecture.png)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
```bash
git clone <repository-url>
cd diplom-tms
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
# Airflow
AIRFLOW_UID
POSTGRES_USER
POSTGRES_PASSWORD
POSTGRES_DB

# ClickHouse
CLICKHOUSE_USER
CLICKHOUSE_PASSWORD
CLICKHOUSE_DB

# Neo4j
NEO4J_USER
NEO4J_PASSWORD

# MinIO
MINIO_ROOT_USER
MINIO_ROOT_PASSWORD
MINIO_BUCKET
```

3. **–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:**
```bash
docker-compose up -d
```

4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –ó–∞–ø—É—Å–∫ DAG –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º
docker-compose exec airflow-webserver airflow dags trigger 0_INIT_schemas
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
diplom-tms/
‚îú‚îÄ‚îÄ dags/                          # Airflow DAG'–∏
‚îÇ   ‚îú‚îÄ‚îÄ create_schemas_dag.py      # –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ generate_events_dag.py     # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ transfer_raw_from_kafka_dag.py  # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Kafka
‚îÇ   ‚îú‚îÄ‚îÄ transfer_raw_from_minio_dag.py  # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ MinIO
‚îÇ   ‚îú‚îÄ‚îÄ raw_to_dds_dag.py          # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è RAW ‚Üí DDS
‚îÇ   ‚îú‚îÄ‚îÄ ttransfer_data_to_neo4j_dag.py  # –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Neo4j
‚îÇ   ‚îú‚îÄ‚îÄ build_marts_dag.py         # –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω
‚îÇ   ‚îî‚îÄ‚îÄ generate_data/             # –ú–æ–¥—É–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ sql/                           # SQL —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ddl/                       # DDL —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ raw/                   # –°—Ö–µ–º–∞ RAW —Å–ª–æ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dds/                   # –°—Ö–µ–º–∞ DDS —Å–ª–æ—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_mart/             # –°—Ö–µ–º–∞ –≤–∏—Ç—Ä–∏–Ω
‚îÇ   ‚îú‚îÄ‚îÄ dml/                       # DML —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ dql/                       # DQL —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ cypher/                        # Cypher —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è Neo4j
‚îÇ   ‚îú‚îÄ‚îÄ ddl/                       # –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤ –∏ —Å–≤—è–∑–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ dml/                       # –í—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ dql/                       # –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –≤–∏—Ç—Ä–∏–Ω
‚îú‚îÄ‚îÄ processed_data/                # –ú–æ–¥—É–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ loaders/                   # –ó–∞–≥—Ä—É–∑—á–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ utils/                     # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docs/                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ screenshots/               # –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ architecture.png           # –î–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ docker-compose.yml             # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ requirements.txt               # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üîÑ ETL –ø—Ä–æ—Ü–µ—Å—Å—ã

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (1_DATA_GENERATE_to_kafka_and_minio)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- **–§—É–Ω–∫—Ü–∏—è:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
- **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** Kafka —Ç–æ–ø–∏–∫–∏ –∏ MinIO bucket

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Kafka (2_TRANSFER_RAW_FROM_KAFKA)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
- **–§—É–Ω–∫—Ü–∏—è:** –ü–æ—Ç–æ–∫–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Kafka –≤ RAW —Å–ª–æ–π
- **–¢–æ–ø–∏–∫–∏:** users, posts, comments, likes, reactions, friends, communities, group_members, media, pinned_posts

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ MinIO (2_TRANSFER_RAW_FROM_MINIO)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
- **–§—É–Ω–∫—Ü–∏—è:** Batch –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ MinIO –≤ RAW —Å–ª–æ–π

### 4. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è RAW ‚Üí DDS (3_RAW_to_DDS_dag)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- **–§—É–Ω–∫—Ü–∏—è:** –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π

### 5. –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Neo4j (4_DDS_to_NEO4J_dag)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- **–§—É–Ω–∫—Ü–∏—è:** –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** –£–∑–ª—ã –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø–æ—Å—Ç–∞–º–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

### 6. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω (5_CREATE_DATA_MARTS_TO_CLICKHOUSE)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- **–§—É–Ω–∫—Ü–∏—è:** –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- **–í–∏—Ç—Ä–∏–Ω—ã:**
  - –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### –°—É—â–Ω–æ—Å—Ç–∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (Users)** - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å
- **–°–æ–æ–±—â–µ—Å—Ç–≤–∞ (Communities)** - –≥—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü–æ—Å—Ç—ã (Posts)** - –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (Comments)** - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç–∞–º
- **–ú–µ–¥–∏–∞ (Media)** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ–∞–π–ª—ã
- **–õ–∞–π–∫–∏ (Likes)** - —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç
- **–†–µ–∞–∫—Ü–∏–∏ (Reactions)** - —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏
- **–î—Ä—É–∑—å—è (Friends)** - —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø (Group Members)** - —á–ª–µ–Ω—Å—Ç–≤–æ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö
- **–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã (Pinned Posts)** - –≤–∞–∂–Ω—ã–µ –ø–æ—Å—Ç—ã —Å–æ–æ–±—â–µ—Å—Ç–≤

## üñ•Ô∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–∏—Å—Ç–µ–º—ã

### Apache Airflow (http://localhost:8080)
![Airflow Interface](docs/screenshots/Airflow.png)
- **–õ–æ–≥–∏–Ω:** airflow / airflow
- **–§—É–Ω–∫—Ü–∏–∏:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ETL –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

### Kafka UI (http://localhost:8081)
![Kafka Interface](docs/screenshots/Kafka.png)
- **–§—É–Ω–∫—Ü–∏–∏:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ–ø–∏–∫–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### MinIO Console (http://localhost:9001)
![MinIO Interface](docs/screenshots/MinIO.png)
- **–õ–æ–≥–∏–Ω:** minioadmin / minioadmin
- **–§—É–Ω–∫—Ü–∏–∏:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

### PostgreSQL (localhost:5439)
![PostgreSQL Interface](docs/screenshots/Postgres.png)
- **–õ–æ–≥–∏–Ω:** airflow / airflow
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** airflow (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ), dwh (–¥–∞–Ω–Ω—ã–µ)

### Neo4j Browser (http://localhost:7474)
![Neo4j Interface 1](docs/screenshots/Neo4j.1.png)
![Neo4j Interface 2](docs/screenshots/Neo4j.2.png)
- **–õ–æ–≥–∏–Ω:** neo4j / password
- **–§—É–Ω–∫—Ü–∏–∏:** –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π

### ClickHouse (http://localhost:8123)
![ClickHouse Interface](docs/screenshots/ClickHouse.png)
- **–õ–æ–≥–∏–Ω:** airflow / airflow
- **–§—É–Ω–∫—Ü–∏–∏:** –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

### Metabase (http://localhost:3000)
![Metabase Interface](docs/screenshots/Metabase.png)
- **–§—É–Ω–∫—Ü–∏–∏:** –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ –æ—Ç—á–µ—Ç–æ–≤

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è DAG'–æ–≤:
- –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –û—à–∏–±–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env`:

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
POSTGRES_HOST
POSTGRES_PORT
POSTGRES_USER
POSTGRES_PASSWORD
POSTGRES_DB

# ClickHouse
CLICKHOUSE_HOST
CLICKHOUSE_PORT
CLICKHOUSE_USER
CLICKHOUSE_PASSWORD
CLICKHOUSE_DB

# Neo4j
NEO4J_HOST
NEO4J_PORT
NEO4J_USER
NEO4J_PASSWORD

# Kafka
KAFKA_BOOTSTRAP_SERVERS

# MinIO
MINIO_BUCKET
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø—É—Å–∫–æ–º


2. **–û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã: `docker-compose ps`
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: `docker-compose logs postgres`

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å Airflow:**
   - –û—á–∏—Å—Ç–∏—Ç–µ –ª–æ–≥–∏: `docker-compose down -v && docker-compose up -d`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `chmod -R 777 logs/`

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f airflow-scheduler

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart airflow-scheduler

# –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
docker-compose down -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Apache Airflow Documentation](https://airflow.apache.org/docs/)
- [Neo4j Documentation](https://neo4j.com/docs/)
- [ClickHouse Documentation](https://clickhouse.com/docs/)
- [Kafka Documentation](https://kafka.apache.org/documentation/)

## üë• –ê–≤—Ç–æ—Ä

**Serzik** - Data Engineer

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

---

*–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.*
